================================================================================
  HobbyCAD - DEVELOPMENT ENVIRONMENT SETUP
================================================================================

  Project          : HobbyCAD
  File             : docs/dev_environment_setup.txt
  Document Version : 0.0.1.1
  Date             : 2026-02-06
  Format           : Plain Text (all project documentation is plain text)
  AI Attribution   : This document was primarily generated with the assistance
                     of Claude AI (Anthropic). Human review and editorial
                     direction provided by the project author.

================================================================================
  TABLE OF CONTENTS
================================================================================

  PART A: LINUX / UNIX (Primary Development Platform)

    1. Overview
    2. Supported Platforms
    3. Prerequisites
    4. Package Installation - Ubuntu 24.04 LTS (Development Platform)
    5. Package Installation - Ubuntu 22.04 LTS (Minimum Target)
    6. Package Version Differences (22.04 vs 24.04)
    7. Packages Requiring .deb Packaging or PPA
    8. Launchpad PPA Strategy
    9. Verifying the Installation
    10. Project Directory Structure
    11. Building Phase 0
    12. Troubleshooting

  PART B: WINDOWS (Support Stub)

    13. Windows Overview
    14. Windows Prerequisites
    15. vcpkg Package Manager Setup
    16. Installing Dependencies via vcpkg
    17. Manual Downloads (Non-vcpkg)
    18. Building Phase 0 on Windows
    19. Windows Troubleshooting

  PART C: MACOS (Support Stub)

    20. macOS Overview
    21. macOS Prerequisites
    22. Installing Dependencies via Homebrew
    23. macOS Architecture Notes
    24. Verifying the macOS Installation
    25. Building Phase 0 on macOS
    26. macOS Troubleshooting
    27. Project and Download Links (All Platforms)

================================================================================
================================================================================
  PART A: LINUX / UNIX (Primary Development Platform)
================================================================================
================================================================================

================================================================================
  1. OVERVIEW
================================================================================

  This document provides step-by-step instructions for setting up a
  development environment for HobbyCAD Phase 0 (Foundation). The
  goal of Phase 0 is to produce a minimal buildable application that
  can open, display, and save BREP files with basic 3D camera
  navigation in a Qt 6 window embedding an OCCT AIS viewer.

  Development is done on Ubuntu 24.04 LTS (Noble Numbat). Ubuntu
  22.04 LTS (Jammy Jellyfish) is the minimum supported target
  platform for builds. Package differences between these two
  releases are documented in Section 6.

================================================================================
  2. SUPPORTED PLATFORMS
================================================================================

  Development:    Ubuntu 24.04 LTS (Noble Numbat) — primary
  Build Target:   Ubuntu 22.04 LTS (Jammy Jellyfish) — minimum
  Packaging:      .deb (Ubuntu/Debian), .AppImage (generic Linux)
  Platform Stubs: Windows (MSYS2/MinGW-w64 or MSVC),
                  macOS (Apple Clang + Homebrew)

  Minimum OS versions:

    Linux:    Ubuntu 22.04 LTS or equivalent (glibc 2.35+)
    Windows:  Windows 10 version 1809 (October 2018 Update), 64-bit
    macOS:    macOS 12 Monterey, 64-bit Intel or Apple Silicon

  These minimums are dictated primarily by Qt 6 platform
  requirements.  OCCT requires OpenGL 3.3+ on all platforms.
  On macOS, OpenGL is deprecated by Apple and capped at 4.1
  but remains functional.

  AppImage compatibility: the AppImage's glibc floor is set by
  the build host.  Building on Ubuntu 24.04 produces an AppImage
  requiring glibc 2.39+, which will not run on 22.04 or older
  distros.  For development and testing this is acceptable; for
  release distribution, build on Ubuntu 22.04 (glibc 2.35) or
  use a 22.04 container for maximum compatibility.

  Virtual machines: OpenGL support varies significantly by
  hypervisor.  HobbyCAD requires OpenGL 3.3 at minimum.

    VMware Workstation/Fusion:
      OpenGL 3.3 supported since Workstation 12 / Fusion 8
        (requires virtual hardware version 12+, host GPU with
        DX11 on Windows or OpenGL 4.0 on Linux/macOS)
      OpenGL 4.1 supported in newer versions
      OpenGL 4.3 supported in Workstation 17 / Fusion 13
        (requires hardware version 20+)
      HobbyCAD should work in VMware with 3D acceleration
      enabled and VMware Tools / open-vm-tools installed.

    VirtualBox:
      VirtualBox's OpenGL support depends on the guest OS:

      Linux guests with VMSVGA controller and Guest Additions:
        Mesa's SVGA3D gallium driver provides OpenGL 3.3 (the
        same driver used by VMware guests).  This meets
        HobbyCAD's minimum.  Requires:
          - VMSVGA graphics controller (default for Linux guests)
          - 3D Acceleration enabled in VM display settings
          - Guest Additions installed
          - At least 128 MB video memory
          - Verify with: glxinfo | grep "OpenGL version"
            Expected: "3.3 (Compatibility Profile) Mesa ..."
        Results vary by host GPU, host OS, and VirtualBox
        version.  3D acceleration remains marked "experimental"
        by Oracle and some configurations may fail to enable
        it or report only OpenGL 2.1.

      Windows guests:
        Limited to OpenGL 2.1 via VirtualBox's own translation
        layer.  Does NOT meet HobbyCAD's 3.3 minimum.

      VirtualBox is documented as a best-effort configuration.

    QEMU/KVM with virtio-gpu (virgl):
      OpenGL 3.3 supported since QEMU 2.6 with virgl enabled.
      OpenGL 4.3 with Mesa 18.2+ in the guest, 4.6 with Mesa
      23.2+.  Requirements:
        Host:  Linux kernel 4.4+, QEMU 2.6+, virglrenderer
               library installed, host GPU with OpenGL 4.0+
               and open-source Mesa drivers (Intel or AMD
               recommended; NVIDIA proprietary drivers have
               known issues with virglrenderer)
        Guest: Linux kernel 4.4+ (virtio-gpu KMS driver),
               Mesa with the virgl gallium driver enabled
        Note:  virgl currently supports Linux guests only.
               Windows guest support is work-in-progress.
      Ubuntu 22.04+ ships all required host and guest
      components by default.  Enable 3D acceleration in
      virt-manager: set Video to "Virtio" and check the
      "3D acceleration" box, or use the virtio-vga-gl
      device on the QEMU command line.

    GPU passthrough (VFIO):
      Passes a physical GPU directly to the VM.  Full native
      OpenGL support and performance.  Requires IOMMU (VT-d /
      AMD-Vi), a dedicated GPU for the VM, and a compatible
      host configuration.

  Test with glxinfo (Linux) or the OpenGL Extensions Viewer
  (Windows) to verify the reported version before attempting
  to build or run HobbyCAD in a VM.

  Windows 7/8/8.1: not supported.  Qt 6 dropped Windows 7
  support entirely starting with Qt 6.0.  The last Qt version
  with official Windows 7 support was Qt 5.15.  HobbyCAD
  requires Qt 6 and will not run on Windows versions prior to
  Windows 10.

  Part A of this document covers the primary Linux/Unix development
  environment. Part B documents the Windows support stub. Part C
  documents the macOS support stub.

================================================================================
  3. PREREQUISITES
================================================================================

  Hardware:

    CPU:
      - x86_64 processor, dual-core or better
      - ARM64 (Apple Silicon, Raspberry Pi 5) may work but is
        untested; Apple Silicon is documented in Part C

    RAM:
      - 4 GB minimum (sufficient for small models, Phase 0)
      - 8 GB recommended (comfortable for development and
        moderate-complexity models)
      - 16 GB+ for large assemblies or FEM analysis (future phases)

    Disk:
      - 5 GB free minimum for dependencies, build artifacts, and
        the OCCT/Qt development packages
      - SSD strongly recommended for build performance (ccache,
        Ninja, and parallel compilation benefit greatly from fast
        random I/O)

    GPU (Graphics Processing Unit):

      OpenCASCADE Technology requires OpenGL 3.3 or higher for its
      3D viewer. Ray tracing features (not used in HobbyCAD Phase 0)
      require OpenGL 4.0+. Qt 6 QOpenGLWidget requires OpenGL 2.1
      minimum, but OpenGL 3.3+ is strongly recommended for Qt Quick
      3D and for OCCT compatibility.

      EFFECTIVE MINIMUM: OpenGL 3.3 capable GPU with working drivers.

      The following GPU families support OpenGL 3.3 and are known to
      work with OCCT-based applications:

        NVIDIA (Linux: proprietary driver or nouveau; Windows: GeForce driver)
          - GeForce 8000 series and newer (GeForce 8400 GS+)
          - Quadro FX 5800 and newer
          - Any GeForce GT/GTX/RTX 200 series and newer
          - Recommended: Any GeForce GTX 750 or newer for smooth
            shaded + wireframe rendering of moderate models

        AMD (Linux: Mesa radeonsi or amdgpu; Windows: Adrenalin driver)
          - Radeon HD 2000 series and newer
          - Radeon R5/R7/R9 and newer
          - Any Radeon RX series (RX 460+)
          - Recommended: Any Radeon RX 550 or newer

        Intel Integrated Graphics (Linux: Mesa i915/iris; Windows: Intel driver)
          - HD Graphics 2500 / 4000 (Ivy Bridge, 3rd gen Core) and
            newer — OpenGL 3.3 via Mesa core profile on Linux
          - HD Graphics 4200+ (Haswell, 4th gen Core) — OpenGL 4.0
          - Intel UHD 600/620/630 and newer — OpenGL 4.5+
          - Intel Iris Xe, Intel Arc — OpenGL 4.6
          - Recommended: Intel HD 4000 or newer

          IMPORTANT: Intel HD Graphics 2000 (Sandy Bridge, 2nd gen)
          supports only OpenGL 3.1 on Windows. On Linux with Mesa,
          it may report OpenGL 3.3 core profile but compatibility
          is marginal. Sandy Bridge is NOT recommended.

          First-generation Intel HD Graphics (Arrandale/Ironlake)
          supports only OpenGL 2.1 and WILL NOT work.

        Apple Silicon (M1/M2/M3/M4 — macOS only)
          - OpenGL 4.1 (Apple's maximum; see Part C Section 23.3)
          - Metal is the preferred API on macOS; Qt 6 RHI can use
            Metal as a backend, but OCCT currently requires OpenGL
          - M1 and newer are fully capable of running HobbyCAD

      Software rendering fallback:

        On Linux, if no hardware GPU is available (e.g., in a VM or
        on very old hardware), Mesa's software rasterizer (llvmpipe)
        provides OpenGL 3.3+ but performance will be poor. Set:

          LIBGL_ALWAYS_SOFTWARE=1 ./hobbycad

        This is useful for CI/CD testing but not for interactive use.
        llvmpipe OpenGL 3.3 requires Mesa 10.2 (June 2014) or later;
        all supported Ubuntu LTS versions ship a much newer Mesa.

      Verifying GPU OpenGL version:

        Linux:    glxinfo | grep "OpenGL version"
        macOS:    /System/Library/Frameworks/OpenGL.framework/Versions/A/
                  Libraries/libGL.dylib (or use glxinfo from XQuartz)
        Windows:  Use GPU-Z, OpenGL Extensions Viewer, or the GPU
                  vendor's control panel

    Display:
      - 1920x1080 minimum resolution recommended
      - HobbyCAD's UI is designed for standard desktop displays;
        HiDPI (4K) support depends on Qt 6 scaling
      - A second monitor is helpful for development but not required

  Software:
    - Fresh Ubuntu 24.04 LTS or 22.04 LTS desktop installation
    - sudo access
    - Internet connection for package downloads

  Before starting, update the system:

    sudo apt-get update
    sudo apt-get upgrade -y

================================================================================
  4. PACKAGE INSTALLATION - UBUNTU 24.04 LTS (Development Platform)
================================================================================

  The following commands install all packages needed for Phase 0
  development on a fresh Ubuntu 24.04 installation.

  4.1  BUILD ESSENTIALS
  ----------------------

  Core compilation tools and build system:

    sudo apt-get install -y \
      build-essential \
      cmake \
      cmake-curses-gui \
      git \
      pkg-config \
      ninja-build

  Versions provided (24.04):
    GCC 13.x, CMake 3.28.x, Ninja 1.11.x

  4.2  OPENCASCADE TECHNOLOGY (OCCT)
  ------------------------------------

  The 3D modeling kernel. Ubuntu 24.04 provides OCCT 7.6.3:

    sudo apt-get install -y \
      libocct-data-exchange-dev \
      libocct-draw-dev \
      libocct-foundation-dev \
      libocct-modeling-algorithms-dev \
      libocct-modeling-data-dev \
      libocct-ocaf-dev \
      libocct-visualization-dev \
      occt-misc \
      libtbb-dev

  OCCT uses Intel TBB (Threading Building Blocks) for parallelism.
  The libtbb-dev package is required at link time.

  Note: On Ubuntu 24.04, the runtime library packages have a "t64"
  suffix (e.g., libocct-foundation-7.6t64) due to the Y2038 time_t
  transition. The -dev packages abstract this away, so the t64
  suffix does not affect build commands or CMake find scripts.

  Known issue: KiCad ships its own OCCT libraries without the t64
  suffix, which can cause dependency conflicts if both KiCad and
  HobbyCAD are installed. If you encounter this, install KiCad via
  Flatpak or AppImage instead of the system package.

  4.3  QT 6
  ----------

  The GUI framework. Ubuntu 24.04 provides Qt 6.4.2:

    sudo apt-get install -y \
      qt6-base-dev \
      qt6-base-dev-tools \
      qt6-tools-dev \
      qt6-tools-dev-tools \
      libqt6opengl6-dev \
      libqt6openglwidgets6 \
      libqt6svg6-dev \
      qmake6

  Note: HobbyCAD does NOT use Qt3D. The 3D viewport uses OCCT's AIS
  viewer embedded directly in a QOpenGLWidget. The Qt3D scene graph
  module (qt6-3d-dev, libqt63dcore6, libqt63drender6) is not needed.

  4.4  PYTHON (FOR FUTURE SCRIPTING SUPPORT)
  --------------------------------------------

  Not strictly needed for Phase 0, but recommended to set up early
  so the build system can detect Python from the start:

    sudo apt-get install -y \
      python3-dev \
      pybind11-dev \
      python3-pybind11

  Versions provided (24.04):
    Python 3.12.x, pybind11 2.11.x

  4.5  ADDITIONAL DEVELOPMENT TOOLS
  ------------------------------------

    sudo apt-get install -y \
      gdb \
      valgrind \
      clang-format \
      clang-tidy \
      doxygen \
      graphviz \
      lcov

  4.6  IMAGE FORMAT SUPPORT
  ---------------------------

  For thumbnail generation and image reference features:

    sudo apt-get install -y \
      libpng-dev \
      libjpeg-dev \
      netpbm

  Note: Qt's QImage provides PNG, JPEG, and PPM/PNM support
  natively, so libpng/libjpeg are primarily for any non-Qt code
  paths. The netpbm package provides command-line tools for
  PPM<->PNG conversion (pnmtopng, pngtopam) useful for development
  and testing.

  4.7  OPENGL DEVELOPMENT
  -------------------------

    sudo apt-get install -y \
      libgl-dev \
      libglu1-mesa-dev \
      libegl-dev \
      libxkbcommon-dev

  4.8  ZIP ARCHIVE SUPPORT
  --------------------------

  HobbyCAD and HobbyMesh use a directory-first project format
  (see project_definition.txt Section 5.2). ZIP archives are a
  secondary format used for distribution and sharing. These
  libraries are needed for ZIP pack/unpack operations:

    sudo apt-get install -y \
      libzip-dev \
      libminizip-dev

  Note: The libzip-dev CMake config references companion tool
  binaries (zipcmp, zipmerge, ziptool) from a separate package.
  HobbyCAD's build uses pkg-config to find libzip, which avoids
  this issue.  If you encounter CMake errors about missing
  /usr/bin/zipcmp, install the tools package:

    sudo apt-get install -y zipcmp zipmerge ziptool

  4.9  GIT INTEGRATION (VERSION CONTROL)
  ----------------------------------------

  HobbyCAD includes built-in git integration for project version
  control (see project_definition.txt Section 5.5). Git operations
  are performed via libgit2 (preferred) with system git as fallback:

    sudo apt-get install -y \
      libgit2-dev \
      git

  libgit2 provides a C library for git operations without requiring
  the git binary. The system git package is needed as a fallback for
  operations libgit2 does not support (e.g., LFS) and for developer
  use during HobbyCAD development itself.

  4.10  ONE-LINE INSTALL (ALL PHASE 0 PACKAGES)
  -----------------------------------------------

  For convenience, all Phase 0 packages in a single command:

    sudo apt-get install -y \
      build-essential cmake cmake-curses-gui git pkg-config \
      ninja-build \
      libocct-data-exchange-dev libocct-draw-dev \
      libocct-foundation-dev libocct-modeling-algorithms-dev \
      libocct-modeling-data-dev libocct-ocaf-dev \
      libocct-visualization-dev occt-misc libtbb-dev \
      qt6-base-dev qt6-base-dev-tools qt6-tools-dev \
      qt6-tools-dev-tools libqt6opengl6-dev \
      libqt6openglwidgets6 libqt6svg6-dev qmake6 \
      python3-dev pybind11-dev python3-pybind11 \
      libgl-dev libglu1-mesa-dev libegl-dev libxkbcommon-dev \
      libpng-dev libjpeg-dev netpbm \
      libzip-dev libminizip-dev \
      libgit2-dev \
      gdb valgrind clang-format clang-tidy doxygen graphviz lcov

================================================================================
  5. PACKAGE INSTALLATION - UBUNTU 22.04 LTS (Minimum Target)
================================================================================

  Ubuntu 22.04 provides older versions of several key packages.
  The same package names are generally available but at older
  versions. See Section 6 for specific version differences.

  5.1  BUILD ESSENTIALS (22.04)
  ------------------------------

    sudo apt-get install -y \
      build-essential \
      cmake \
      cmake-curses-gui \
      git \
      pkg-config \
      ninja-build

  Versions provided (22.04):
    GCC 11.x, CMake 3.22.x, Ninja 1.10.x

  5.2  OPENCASCADE TECHNOLOGY (22.04)
  -------------------------------------

  Ubuntu 22.04 provides OCCT 7.5.x (NOT 7.6.x):

    sudo apt-get install -y \
      libocct-data-exchange-dev \
      libocct-draw-dev \
      libocct-foundation-dev \
      libocct-modeling-algorithms-dev \
      libocct-modeling-data-dev \
      libocct-ocaf-dev \
      libocct-visualization-dev \
      occt-misc \
      libtbb-dev

  Note: The -dev package names are the same, but the runtime
  libraries will be libocct-*-7.5 instead of libocct-*-7.6t64.
  CMake should handle this transparently via find_package(OpenCASCADE).
  However, API differences between OCCT 7.5 and 7.6 must be tested.

  5.3  QT 6 (22.04)
  -------------------

  Ubuntu 22.04 provides Qt 6.2.4 (NOT 6.4.2):

    sudo apt-get install -y \
      qt6-base-dev \
      qt6-base-dev-tools \
      qt6-tools-dev \
      qt6-tools-dev-tools \
      libqt6opengl6-dev \
      libqt6openglwidgets6 \
      libqt6svg6-dev \
      qmake6

  Note: Qt 6.2.4 is an LTS release but significantly older than
  6.4.2. Some Qt 6.4 features may not be available. The CMakeLists
  should specify find_package(Qt6 6.2 REQUIRED ...) as the minimum.

  Qt3D is not used by HobbyCAD (see Section 4.3 note).

  5.4  PYTHON (22.04)
  --------------------

    sudo apt-get install -y \
      python3-dev \
      pybind11-dev \
      python3-pybind11

  Versions provided (22.04):
    Python 3.10.x, pybind11 2.9.x

  5.5  REMAINING PACKAGES (22.04)
  --------------------------------

  The remaining packages (GL, image, ZIP, dev tools) use the same
  apt-get commands as Section 4 and are available on 22.04.

  5.6  ONE-LINE INSTALL (ALL PHASE 0 PACKAGES, 22.04)
  ------------------------------------------------------

    sudo apt-get install -y \
      build-essential cmake cmake-curses-gui git pkg-config \
      ninja-build \
      libocct-data-exchange-dev libocct-draw-dev \
      libocct-foundation-dev libocct-modeling-algorithms-dev \
      libocct-modeling-data-dev libocct-ocaf-dev \
      libocct-visualization-dev occt-misc libtbb-dev \
      qt6-base-dev qt6-base-dev-tools qt6-tools-dev \
      qt6-tools-dev-tools libqt6opengl6-dev \
      libqt6openglwidgets6 libqt6svg6-dev qmake6 \
      python3-dev pybind11-dev python3-pybind11 \
      libgl-dev libglu1-mesa-dev libegl-dev libxkbcommon-dev \
      libpng-dev libjpeg-dev netpbm \
      libzip-dev libminizip-dev \
      libgit2-dev \
      gdb valgrind clang-format clang-tidy doxygen graphviz lcov

================================================================================
  6. PACKAGE VERSION DIFFERENCES (22.04 vs 24.04)
================================================================================

  This table summarizes the key version differences between Ubuntu
  22.04 (Jammy) and 24.04 (Noble) for HobbyCAD's dependencies.

  +---------------------+--------------+--------------+------------------+-----------+
  | Package             | 22.04 Jammy  | 24.04 Noble  | Latest (Feb '26) | Impact    |
  +---------------------+--------------+--------------+------------------+-----------+
  | GCC                 | 11.x         | 13.x         | 15.2             | Low       |
  | CMake               | 3.22.x       | 3.28.x       | 4.2.3            | Low       |
  | Python              | 3.10.x       | 3.12.x       | 3.14.3           | Medium    |
  | Qt 6                | 6.2.4        | 6.4.2        | 6.10.2           | Medium    |
  | OCCT                | 7.5.x        | 7.6.x (t64)  | 7.9.3 *          | Medium    |
  | pybind11            | 2.9.x        | 2.11.x       | 3.0.1            | Low       |
  | Ninja               | 1.10.x       | 1.11.x       | 1.13.1           | None      |
  | libzip              | 1.7.x        | 1.10.x       | 1.11.4           | Low       |
  +---------------------+--------------+--------------+------------------+-----------+

  * OCCT 8.0.0 is in release candidate stage, planned for Q1 2026.
    See Section 6.1 for OCCT version gap analysis.

  Impact Legend:
    None   - No code changes needed
    Low    - Minor CMake adjustments may be needed
    Medium - API differences exist, conditional code may be needed

  6.1  OCCT 7.5 vs 7.6 NOTES
  -----------------------------

  OCCT 7.6 includes:
    - Improved STEP reader performance
    - New AIS_ViewController for mouse/keyboard interaction
    - Mesh quality improvements in BRepMesh
    - Various API additions and deprecations

  Code should be developed against OCCT 7.6 (24.04) and then tested
  on OCCT 7.5 (22.04). Use CMake version detection:

    find_package(OpenCASCADE REQUIRED)
    if(OpenCASCADE_VERSION VERSION_LESS "7.6.0")
      target_compile_definitions(hobbycad PRIVATE OCCT_VERSION_75)
    endif()

  Wrap any 7.6-only API calls in #ifdef OCCT_VERSION_75 guards.

  6.2  QT 6.2 vs 6.4 NOTES
  ---------------------------

  Qt 6.2.4 is a Long Term Support (LTS) release. Qt 6.4.2 adds:
    - Improved QOpenGLWidget performance
    - Additional QStyle features
    - Various bug fixes and new convenience APIs

  CMake should require only the minimum version:

    find_package(Qt6 6.2 REQUIRED COMPONENTS
      Core Gui Widgets OpenGL OpenGLWidgets Svg)

  Avoid using Qt 6.4-only APIs unless guarded with version checks.

  6.3  PYTHON 3.10 vs 3.12 NOTES
  ---------------------------------

  Python 3.12 removed distutils (deprecated in 3.10). This may
  affect build scripts that use distutils for Python path detection.
  Use sysconfig instead. pybind11 2.11.x handles both versions
  correctly, but pybind11 2.9.x may have minor issues with 3.12.

  For Phase 0, Python is not a critical dependency. Any Python
  issues between versions can be deferred to Phase 3 (scripting).

================================================================================
  7. PACKAGES REQUIRING SOURCE BUILD OR PPA
================================================================================

  Some HobbyCAD dependencies are not available in the Ubuntu
  repositories (or are too old) and must be obtained from other
  sources.

  7.1  SOLVESPACE SOLVER LIBRARY
  --------------------------------

  Status: PACKAGED — available in the HobbyCAD PPA (see Section 8)
  Needed: Phase 1 (sketch constraint solving)
  License: GPL 3.0

  SolveSpace provides a standalone constraint solver library
  (libslvs) that can be built separately from the full SolveSpace
  application. It has been packaged as a .deb and is hosted on
  the HobbyCAD Launchpad PPA (see Section 8).

  Binary packages:
    libslvs1          Runtime shared library (libslvs.so.3.2,
                      soname libslvs.so.1)
    libslvs-dev       Development headers and CMake config

  Current PPA version (as of 2026-02-08):
    Noble (24.04):  libslvs 3.2.git~20260208-1~ppa2~noble1
    Jammy (22.04):  libslvs 3.2.git~20260208-1~ppa2~jammy1

  Built from SolveSpace git master snapshot dated 2026-02-08.
  Source tarball: libslvs_3.2.git~20260208.orig.tar.xz

  Install from PPA:
    sudo add-apt-repository ppa:ayourk/hobbycad
    sudo apt-get update
    sudo apt-get install libslvs-dev

  Note: SolveSpace is not needed for Phase 0. The PPA packages
  are available now for Phase 1 development when it begins.

  7.2  HOBBYMESH DEPENDENCIES
  ------------------------------

  The following packages are needed for HobbyMesh (Phase 5).
  They are NOT needed for Phase 0 but have been pre-packaged
  and are available in the HobbyCAD PPA.

  Available in both 22.04 and 24.04 repos:
    sudo apt-get install -y \
      libcgal-dev \
      libopenvdb-dev \
      libassimp-dev \
      libeigen3-dev

  PACKAGED in the HobbyCAD PPA (ppa:ayourk/hobbycad):

    OpenMesh:
      Status:   PACKAGED (2026-02-08)
      Source:   https://www.graphics.rwth-aachen.de/software/openmesh/
      Git:      https://gitlab.vci.rwth-aachen.de:9000/OpenMesh/OpenMesh
      License:  BSD 3-Clause
      Packages: libopenmesh, libopenmesh-dev
      Noble:    libopenmesh 11.0.0.git~20260208-1~ppa1~noble1
      Jammy:    libopenmesh 11.0.0.git~20260208-1~ppa1~jammy1

    lib3mf:
      Status:   PACKAGED (2026-02-08)
      Source:   https://github.com/3MFConsortium/lib3mf
      License:  BSD 2-Clause
      Packages: lib3mf2, lib3mf-dev
      Noble:    lib3mf 2.4.1.git~20260208-1~ppa1~noble1
      Jammy:    lib3mf 2.4.1.git~20260208-1~ppa1~jammy1

    MeshFix:
      Status:   PACKAGED (2026-02-08)
      Source:   https://github.com/MarcoAttene/MeshFix-V2.1
      License:  GPL 2.0
      Packages: meshfix (CLI tool), libmeshfix (runtime),
                libmeshfix-dev (development headers)
      Noble:    meshfix 2.1.git~20260208-1~ppa1~noble1
      Jammy:    meshfix 2.1.git~20260208-1~ppa1~jammy1

  Install all PPA dependencies:
    sudo add-apt-repository ppa:ayourk/hobbycad
    sudo apt-get update
    sudo apt-get install libslvs-dev libopenmesh-dev \
      lib3mf-dev libmeshfix-dev

  7.3  PACKAGING POLICY
  -----------------------

  All libraries not available in the standard Ubuntu repositories
  MUST be packaged as .deb files. Direct source builds ("make
  install") are not acceptable for the project because:

    - They bypass the system package manager, making dependency
      tracking unreliable
    - They make developer onboarding harder (each person must
      repeat the build steps manually)
    - They make end-user installation impractical
    - They complicate AppImage generation (which bundles .deb
      contents)
    - They cannot be easily upgraded or removed

  The Launchpad PPA (Section 8) is the distribution mechanism for
  all custom .deb packages.

================================================================================
  8. LAUNCHPAD PPA STRATEGY
================================================================================

  A Launchpad.net PPA (Personal Package Archive) is required for
  packages that are not available in the standard Ubuntu repositories
  or that need newer versions than what the target Ubuntu release
  provides. All source-built libraries must be packaged as .debs
  and distributed through the PPA.

  8.1  PPA USE CASES
  --------------------

    Custom Packages (not in any Ubuntu repo):

      1. SolveSpace solver library (libslvs-dev) — DONE (2026-02-08)
      2. OpenMesh (libopenmesh-dev) — DONE (2026-02-08)
      3. lib3mf (lib3mf-dev) — DONE (2026-02-08)
      4. MeshFix (libmeshfix-dev) — DONE (2026-02-08)

    Backports to 22.04 (Jammy):

      Ubuntu 22.04 ships older versions of several key dependencies.
      It will likely be necessary to backport newer versions to
      22.04 to maintain a single codebase without excessive version
      guards. Candidates for backporting:

      5. OCCT 7.6.x — 22.04 ships 7.5.x. The 7.5-to-7.6 API
         differences may require backporting 7.6 if conditional
         compilation becomes too burdensome.
      6. Qt 6.4.x — 22.04 ships 6.2.4. If Qt 6.4-only features
         are needed, backporting avoids maintaining two code paths.
         Note: Qt is a large packaging effort; defer unless truly
         needed.
      7. pybind11 2.11.x — 22.04 ships 2.9.x. May be needed if
         Python 3.12 compatibility issues arise when cross-building.

    Backports to 24.04 (Noble):

      Ubuntu 24.04 packages are frozen at release time and may
      become stale over the project's development cycle. When it
      makes sense, newer versions of dependencies should be
      backported to 24.04 as well. Candidates:

      8. OCCT 7.8.x or 8.0.x — if a newer OCCT release provides
         significant performance improvements or needed API features,
         it should be backported to 24.04 via the PPA rather than
         requiring developers to upgrade their entire OS.
      9. Qt 6.6.x or 6.8.x — same rationale. Newer Qt releases
         include bug fixes and performance improvements relevant to
         OpenGL widget rendering.
      10. CGAL — newer versions may include mesh processing
          improvements relevant to HobbyMesh.

    General Backporting Policy:

      A dependency should be backported when ANY of these conditions
      are met:

        a) The distro-provided version has a bug that affects
           HobbyCAD and the fix exists in a newer release
        b) A newer version provides a feature that helps finish a
           design goal or eliminates the need for conditional
           compilation or workarounds
        c) The distro-provided version is so old that upstream no
           longer supports it or provides documentation for it
        d) The version gap between 22.04 and 24.04 (or between
           24.04 and upstream) is large enough that maintaining
           compatibility with both versions costs more development
           time than packaging the backport
        e) Consistency: backporting allows all library dependencies
           to be the same version regardless of the underlying
           operating system. While AppImage bundles make version
           differences moot at runtime, having consistent library
           versions across all build targets simplifies development,
           testing, and debugging. A bug found on one platform is
           reproducible on the other when the library stack is
           identical.

      A dependency should NOT be backported when:

        a) The distro-provided version works correctly and no newer
           features are needed
        b) The version differences are minor and easily handled by
           CMake version detection and a small number of #ifdef
           guards
        c) The packaging effort exceeds the development time saved

  8.2  PPA NAMING AND ORGANIZATION
  ----------------------------------

  The HobbyCAD Launchpad PPA:

    ppa:ayourk/hobbycad
    https://launchpad.net/~ayourk/+archive/ubuntu/hobbycad

  This single PPA contains:
      - All custom-packaged dependencies (libslvs, libopenmesh,
        lib3mf, meshfix)
      - All backported dependencies (when needed)
      - HobbyCAD and HobbyMesh release packages (when the
        project reaches a distributable state)
      - Covers both jammy (22.04) and noble (24.04)
      - Packages are versioned to not conflict with potential
        future Ubuntu repository updates (use ~ppa suffix)

  8.3  PPA PACKAGE VERSIONING
  -----------------------------

  To avoid conflicts with distro packages, PPA packages use the
  following version suffix convention:

    <upstream_version>-<debian_revision>~ppa<N>~<distro>1

  The upstream_version may include a git~YYYYMMDD suffix to
  indicate a git snapshot taken on the specified date rather
  than a tagged release. If the package is built from a tagged
  upstream release, this suffix is absent.

  Examples (published — git snapshots):
    libslvs     3.2.git~20260208-1~ppa2~noble1    (custom package)
    libslvs     3.2.git~20260208-1~ppa2~jammy1     (custom package)
    libopenmesh 11.0.0.git~20260208-1~ppa1~noble1  (custom package)
    libopenmesh 11.0.0.git~20260208-1~ppa1~jammy1  (custom package)
    lib3mf      2.4.1.git~20260208-1~ppa1~noble1   (custom package)
    lib3mf      2.4.1.git~20260208-1~ppa1~jammy1   (custom package)
    meshfix     2.1.git~20260208-1~ppa1~noble1      (custom package)
    meshfix     2.1.git~20260208-1~ppa1~jammy1      (custom package)

  Examples (future — tagged release backports):
    opencascade 7.9.3-1~ppa1~noble1                (backport to 24.04)
    opencascade 7.9.3-1~ppa1~jammy1                (backport to 22.04)

  The ~ppa<N>~ infix ensures:
    - The package sorts lower than any future distro package with
      the same upstream version (apt version comparison rules)
    - The source of the package is identifiable
    - Jammy and Noble builds are distinguishable
    - The ppa revision number <N> can be incremented for
      packaging fixes without changing the upstream version

  8.4  PPA SETUP FOR DEVELOPERS
  -------------------------------

  Once the PPA is established, developers add it with:

    sudo add-apt-repository ppa:ayourk/hobbycad
    sudo apt-get update

  Then install custom and backported packages normally via apt-get.
  The PPA packages will take precedence over the distro packages
  where the PPA version is newer.

  8.5  DEBIAN PACKAGING WORKFLOW
  --------------------------------

  All .deb packages are built using standard Debian tooling.
  Launchpad.net provides build farm infrastructure that compiles
  packages in clean, stock chroot environments for each target
  distribution. This means packages do not need to be cross-compiled
  locally — uploading a properly prepared source package to the PPA
  triggers automated builds on Launchpad's servers for all specified
  distributions and architectures.

    Required tools (for local testing before PPA upload):
      sudo apt-get install -y \
        debhelper dh-make devscripts build-essential \
        dpkg-dev fakeroot lintian

    Workflow for a new custom package:

      1. Obtain upstream source tarball
      2. Create debian/ directory with control, rules, changelog,
         copyright, and any .install files
      3. Build locally for testing: dpkg-buildpackage -us -uc
      4. Test locally: sudo dpkg -i ../<package>.deb
      5. Build signed source package: debuild -S -sa
         (use -sd for subsequent uploads where the orig tarball
         is already on Launchpad)
      6. Upload to PPA: dput ppa:ayourk/hobbycad \
           ../<package>_source.changes
      7. Launchpad builds the .deb in a clean environment for each
         target release (jammy, noble) automatically

    Workflow for a backport:

      1. Download the source package from the newer Ubuntu release:
           apt-get source -t noble <package>
         Or from Debian sid/testing if the Ubuntu version is also
         too old.
      2. Modify debian/changelog to add a new entry with the
         backport version suffix (~ppa1~jammy1)
      3. Resolve any build dependency issues (may require
         backporting additional packages first)
      4. Build and test locally
      5. Upload source package to PPA — Launchpad handles the
         actual build in a stock chroot for the target release

  8.6  PPA PRIORITY AND TIMELINE
  --------------------------------

  Phase 0:
    No PPA needed. All dependencies are in standard repos.

  Phase 1:
    DONE — SolveSpace solver library (libslvs) packaged and
    published in PPA for both Noble and Jammy (2026-02-08).
    Evaluate whether OCCT 7.5 (22.04) needs backporting.

  Phase 3:
    Evaluate whether pybind11 needs backporting for Python
    compatibility.

  Phase 5:
    DONE — OpenMesh, lib3mf, MeshFix packaged and published
    in PPA for both Noble and Jammy (2026-02-08).
    Evaluate CGAL and OpenVDB version requirements when
    Phase 5 development begins.

  Ongoing:
    Monitor upstream releases of OCCT, Qt, CGAL, and other core
    dependencies. When a new release provides meaningful benefits,
    backport it to the PPA for both 22.04 and 24.04.

================================================================================
  9. VERIFYING THE INSTALLATION
================================================================================

  9.1  FULL DEPENDENCY VERIFICATION (BUILD AND RUN)
  ---------------------------------------------------

  The devtest/ directory (at the project root) contains a standalone
  build test that compiles and links against every HobbyCAD and
  HobbyMesh dependency across all development phases, then exercises
  each one at runtime.

  Phase 0 dependencies are required — cmake will fail if missing.
  All later-phase dependencies are optional and report [WARN] with
  corrective install commands if absent.  As phases are implemented
  and their dependencies become required for the build, devtest
  will be updated to promote those from [WARN] to [FAIL], and this
  documentation will be adjusted accordingly.

  Usage:

    cd devtest
    cmake -B build
    cmake --build build -j$(nproc)
    ./build/depcheck

  Exit code 0 means all Phase 0 dependencies are OK (warnings are
  informational).  Exit code 1 means one or more Phase 0 dependencies
  failed — see Section 12 for troubleshooting.

  See devtest/README.txt for full details and expected output.

  Individual packages can also be spot-checked with commands like
  dpkg -l | grep libocct, qmake6 --version, and
  python3 -c "import pybind11; print(pybind11.__version__)".

  9.2  VERIFY OPENGL (DRIVER-LEVEL)
  -----------------------------------

  The devtest OpenGL check creates a minimal offscreen context and
  reports whatever version that context provides (typically 3.3 Core
  as requested).  To verify the full OpenGL version supported by
  your GPU driver, use glxinfo:

    glxinfo | grep "OpenGL version"

  Expected: OpenGL version 4.x or higher.  If this shows a version
  lower than 4.0, check GPU drivers.  HobbyCAD requires OpenGL 3.3
  at minimum (see project_definition.txt Section 13.1).

================================================================================
  10. PROJECT DIRECTORY STRUCTURE
================================================================================

  Directory layout for the HobbyCAD source tree:

    hobbycad/
      CMakeLists.txt               Top-level build file
      README.md                    Project overview
      LICENSE                      GPL 3.0 (only) license text
      AUTHORS                      Contributors list
      .gitignore                   Version control exclusions
      devtest/
        CMakeLists.txt             Dependency verification build
        depcheck.cpp               Test program (all phases)
        README.txt                 Usage and expected output
      docs/
        project_definition.txt
        cad_library_recommendations.txt
        cad_use_case_document.txt
        dev_environment_setup.txt  (this document)
        security_risks.txt
        coding_standards.txt       File conventions and C++ style
        theming.txt                GUI theming guide
      themes/
        sample.qss                 Reference theme (all widget IDs)
        darkmode.qss               Community dark mode theme
      translations/
        hobbycad_en.ts             English reference (generated)
      src/
        libhobbycad/               Reusable core library (no GUI)
          CMakeLists.txt
          hobbycad/                Public headers (installed as hobbycad/*.h)
            core.h                 Library init/shutdown, export macros
            document.h             Document model (shapes, file path)
            brep_io.h              BREP file read/write utilities
            opengl_info.h          OpenGL capability query
          core.cpp
          document.cpp
          brep_io.cpp
          opengl_info.cpp
        hobbycad/                  HobbyCAD application executable
          CMakeLists.txt
          main.cpp                 Startup dispatcher (mode selection)
          resources/               Compile-time embedded resources
            hobbycad.qrc           Qt resource collection file
            themes/
              default.qss          Built-in default theme
              darkmode.qss         Built-in dark mode theme
          gui/                     Shared GUI components
            mainwindow.h/.cpp      Base main window (menus, status, docks)
            aboutdialog.h/.cpp     About HobbyCAD dialog
            clipanel.h/.cpp        Embedded CLI terminal widget
            full/                  Full Mode (OpenGL 3.3+)
              viewportwidget.h/.cpp  OCCT AIS viewer (plain QWidget)
              fullmodewindow.h/.cpp  Full Mode main window
            reduced/               Reduced Mode (no OpenGL)
              reducedviewport.h/.cpp  Disabled viewport placeholder
              diagnosticdialog.h/.cpp GPU diagnostic dialog
              reducedmodewindow.h/.cpp Reduced Mode main window
          cli/                     Command-Line Mode
            climode.h/.cpp         Standalone REPL
            cliengine.h/.cpp       Shared command dispatch engine
            clihistory.h/.cpp      Persistent command history
            terminalinput.h/.cpp   zsh-style terminal line editor
        libhobbymesh/              Reusable mesh library (future — Phase 5)
          README.txt               Stub for git tracking
        hobbymesh/                 HobbyMesh application (future — Phase 5)
          README.txt               Stub for git tracking
        plugins/                   Plugin infrastructure (future — Phase 3+)
          README.txt               Stub for git tracking
      tests/                       Unit and integration tests (future)
        README.txt                 Stub for git tracking
      cmake/                       Custom CMake find modules
        README.txt                 Stub for git tracking
      scripts/                     Helper scripts (future)
        README.txt                 Stub for git tracking
      tools/
        README.txt                 Build and packaging tools
        linux/
          build-appimage.sh        AppImage build + logging script
          README.txt               Linux packaging details
        windows/
          README.txt               Windows packaging (future)
        macos/
          README.txt               macOS packaging (future)

================================================================================
  11. BUILDING PHASE 0
================================================================================

  Once the development environment is set up and verified (Section 9),
  HobbyCAD can be built via two targets: a Debian package (.deb) for
  Ubuntu/Debian systems, and an AppImage for portable distribution
  to other Linux distributions.

  11.1  CLONE THE REPOSITORY
  ----------------------------

    git clone <repository-url> hobbycad
    cd hobbycad

  11.2  DEVELOPER BUILD (QUICK ITERATION)
  -----------------------------------------

  For day-to-day development, build directly without packaging:

    cmake -B build -G Ninja \
      -DCMAKE_BUILD_TYPE=Debug \
      -DCMAKE_INSTALL_PREFIX=/usr/local

    cmake --build build -j$(nproc)

  Ninja is recommended over Make for faster builds. Use
  -DCMAKE_BUILD_TYPE=Release for optimized builds.

  Run from the build tree:

    ./build/src/hobbycad/hobbycad

  11.3  DEBIAN PACKAGE (.deb)
  -----------------------------

  The primary distribution format for Ubuntu and Debian-based
  systems.  This builds a proper .deb that integrates with the
  system package manager (apt), tracks dependencies, and can be
  uploaded to the HobbyCAD PPA.

  Prerequisites:

    sudo apt-get install -y \
      debhelper-compat dh-cmake \
      dpkg-dev fakeroot lintian devscripts

  The Debian packaging files live in the debian/ directory at the
  project root:

    debian/
      changelog              Version history (dpkg-parsechangelog)
      compat                 Debhelper compat level
      control                Package metadata, dependencies
      copyright              Machine-readable copyright (DEP-5)
      rules                  Build rules (dh with cmake)
      hobbycad.install       File installation list
      hobbycad.desktop       Desktop entry for application menu

  Build the .deb locally:

    dpkg-buildpackage -us -uc -b

  This produces a .deb in the parent directory:

    ls ../*.deb
    ../hobbycad_0.0.1-1_amd64.deb

  Test the package:

    sudo dpkg -i ../hobbycad_0.0.1-1_amd64.deb
    sudo apt-get install -f    # resolve any missing dependencies
    hobbycad                   # launch from system PATH

  Remove the package:

    sudo apt-get remove hobbycad

  Upload to PPA (see Section 8.5 for full workflow):

    debuild -S -sa
    dput ppa:ayourk/hobbycad ../hobbycad_0.0.1-1_source.changes

  Key points for the debian/control file:

    - Build-Depends must list every -dev package from Section 4
    - Depends must use ${shlibs:Depends} and ${misc:Depends} so
      dpkg-shlibdeps automatically resolves runtime libraries
    - The PPA dependencies (libslvs, libopenmesh, lib3mf, meshfix)
      are listed as Build-Depends only when their respective phases
      are enabled in the build

  11.4  APPIMAGE (.AppImage)
  ----------------------------

  The portable distribution format for any Linux distribution with
  a recent enough glibc.  The AppImage bundles HobbyCAD and all its
  dependencies into a single executable file that requires no
  installation.

  Build an AppImage:

    ./tools/linux/build-appimage.sh

  The script handles the full pipeline: fetching linuxdeploy tools
  (if not already present), configuring a Release build, compiling,
  staging into an AppDir, bundling dependencies via linuxdeploy,
  and producing the final HobbyCAD-x86_64.AppImage file.

  All output is logged to build-appimage.log in the project root,
  following the same convention as devtest.log.

  See tools/linux/README.txt for manual build steps, AppDir
  layout, and troubleshooting notes.

================================================================================
  12. TROUBLESHOOTING
================================================================================

  12.1  START WITH DEVTEST
  --------------------------

  Before investigating specific errors, run the dependency
  verification suite:

    cd devtest
    cmake -B build
    cmake --build build -j$(nproc)
    ./build/depcheck

  devtest checks every HobbyCAD dependency, reports versions, and
  gives corrective install commands for anything missing.  The
  results are logged to devtest/devtest.log for reference.

  If devtest passes (exit code 0) but HobbyCAD fails to build,
  the problem is likely in the project source rather than the
  environment.  If devtest itself fails, the sections below
  address common dependency issues.

  12.2  CMAKE CAN'T FIND OPENCASCADE
  -------------------------------------

  If find_package(OpenCASCADE) fails:

    - Ensure libocct-*-dev packages are installed
    - Check for KiCad OCCT conflict (see Section 4.2)
    - Try setting the OCCT root manually:
        cmake -DOpenCASCADE_DIR=/usr/lib/cmake/opencascade ...
    - On 22.04, the cmake config may be at a different path:
        find /usr -name "OpenCASCADEConfig.cmake" 2>/dev/null

  12.3  CMAKE CAN'T FIND QT 6
  ------------------------------

  If find_package(Qt6) fails:

    - Ensure qt6-base-dev is installed
    - Qt 6 cmake config is usually at:
        /usr/lib/x86_64-linux-gnu/cmake/Qt6/
    - Try: cmake -DQt6_DIR=/usr/lib/x86_64-linux-gnu/cmake/Qt6 ...

  12.4  OPENGL ERRORS AT RUNTIME
  ---------------------------------

  If the application crashes or shows a black viewport:

    - Check GPU drivers: glxinfo | head -20
    - NVIDIA: Ensure proprietary drivers are installed
        sudo ubuntu-drivers autoinstall
    - AMD/Intel: Ensure Mesa is up to date
        sudo apt-get install mesa-utils
    - Try running with software rendering to isolate:
        LIBGL_ALWAYS_SOFTWARE=1 ./hobbycad

  12.5  T64 LIBRARY CONFLICTS (24.04 ONLY)
  -------------------------------------------

  Ubuntu 24.04 introduced t64 suffixes on libraries for the Y2038
  time_t transition. If you see dependency conflicts between t64
  and non-t64 library versions (especially with KiCad):

    - Install KiCad via Flatpak or AppImage instead of apt
    - Or manually resolve conflicts (see Section 4.2 note)

  12.6  PKG-CONFIG CAN'T FIND PACKAGES
  ---------------------------------------

  If pkg-config fails for OCCT or other libraries:

    - Ensure the -dev packages are installed (not just runtime libs)
    - Check PKG_CONFIG_PATH:
        echo $PKG_CONFIG_PATH
    - OCCT .pc files are usually in:
        /usr/lib/x86_64-linux-gnu/pkgconfig/

================================================================================
================================================================================
  PART B: WINDOWS (Support Stub)
================================================================================
================================================================================

================================================================================
  13. WINDOWS OVERVIEW
================================================================================

  Windows support is maintained as a build stub. The goal is to
  ensure that HobbyCAD compiles and runs on Windows with basic
  functionality, even though Linux is the primary development
  platform. This section documents the minimum environment needed
  to build HobbyCAD Phase 0 on Windows.

  Minimum version: Windows 10 version 1809 (October 2018 Update)
  or later, 64-bit only.  This is dictated by Qt 6, which requires
  Windows 10 1809+ for DPI-awareness APIs and other platform
  features.  Windows 7, 8, and 8.1 are not supported.

  Windows does not ship with a built-in C++ compiler, so one must
  be installed. The recommended toolchain is MSYS2 with MinGW-w64,
  which provides a fully free and open-source GCC-based build
  environment. MSYS2 also includes Pacman (the Arch Linux package
  manager), CMake, Ninja, Git, and Python — reducing the number of
  separate downloads required.

  The Windows build uses:
    - MSYS2 / MinGW-w64 (GCC) as the compiler (free, open source)
    - CMake + Ninja as the build system (same as Linux)
    - vcpkg as the C++ package manager for dependencies
    - Qt 6 installed via vcpkg or the Qt Online Installer

  Alternative: Visual Studio 2022 Community Edition (free for
  individuals and small teams, but not open source) provides MSVC
  and integrates with vcpkg. All vcpkg commands and CMake
  instructions in this document work with either MinGW-w64 or
  MSVC. See Section 14.1 for details on both options.

  Note: Windows support is community-maintained. It may lag behind
  the Linux build and may not receive the same level of testing.

  WSL2 NOTE: Windows Subsystem for Linux 2 runs a real Linux kernel
  and can build HobbyCAD using the Linux instructions in Part A.
  However, mixing WSL2 and native Windows toolchains can cause
  problems:

    - Do not use vcpkg or MSYS2 packages installed on the Windows
      side from within WSL2 (or vice versa).  Each environment
      needs its own complete toolchain.
    - File paths differ between Windows (C:\...) and WSL2
      (/mnt/c/...).  CMake caches are not transferable between
      the two.  Always do a clean build when switching.
    - WSL2's GPU support (WSLg) can run OpenGL applications, but
      driver versions and performance may differ from native
      Windows.  Use glxinfo inside WSL2 to verify.
    - Git line endings can conflict.  Configure git in WSL2 with:
        git config --global core.autocrlf input
      And on the Windows side:
        git config --global core.autocrlf true
    - Building natively on Windows (Sections 14–18) produces a
      native .exe that does not require WSL2 to run.  Building
      in WSL2 produces a Linux binary.  Choose one approach per
      development workflow.
    - Cross-compiling Windows .exe binaries from within WSL2
      (using mingw-w64 cross-compilers like x86_64-w64-mingw32-g++)
      is technically possible but not supported.  Qt 6, OCCT, and
      vcpkg dependencies would all need to be cross-compiled or
      sourced as Windows binaries, and CMake toolchain configuration
      becomes significantly more complex.  Use native Windows
      tools for Windows builds.

================================================================================
  14. WINDOWS PREREQUISITES
================================================================================

  14.1  C++ COMPILER
  ---------------------

  Option A: MSYS2 / MinGW-w64 (Recommended — Free, Open Source)

  MSYS2 provides a complete Unix-like development environment for
  Windows, including GCC (via MinGW-w64), Bash, Git, CMake, Ninja,
  Python, and a Pacman package manager. It produces native Windows
  executables with no emulation layer.

  Project page:   https://www.msys2.org/
  Download:       https://www.msys2.org/ (click "Download the
                  installer" for the latest .exe)
  License:        Various free/open-source licenses (GCC is GPL,
                  MinGW-w64 runtime is public domain + ZPL)

  Installation steps:

    1. Run the MSYS2 installer. Accept the default install location
       (C:\msys64). Finish the installer with "Run MSYS2 now"
       checked.

    2. In the MSYS2 UCRT64 terminal that opens, update the base
       system:

         pacman -Syu

       Close and reopen the terminal if prompted, then run again:

         pacman -Syu

    3. Install the MinGW-w64 UCRT toolchain and build tools:

         pacman -S --needed \
           base-devel \
           mingw-w64-ucrt-x86_64-toolchain \
           mingw-w64-ucrt-x86_64-cmake \
           mingw-w64-ucrt-x86_64-ninja \
           mingw-w64-ucrt-x86_64-python \
           mingw-w64-ucrt-x86_64-python-pip

       Accept the defaults when prompted (press Enter for all
       packages in the toolchain group, then Y to proceed).

    4. Add C:\msys64\ucrt64\bin to the Windows system PATH so that
       gcc, g++, cmake, and ninja are available from any terminal.

  Verification:

    g++ --version         (expect GCC 13.x or 14.x)
    cmake --version       (expect 3.28+)
    ninja --version
    python --version
    git --version

  IMPORTANT: The UCRT64 environment is recommended over MINGW64.
  UCRT (Universal C Runtime) is the modern Windows C runtime
  included in Windows 10 and later. The older MSVCRT-based MINGW64
  environment has known C99/C11 compatibility issues.

  When building from the command line outside MSYS2, use the UCRT64
  shell or ensure C:\msys64\ucrt64\bin is in PATH. The CMake
  generator should be "Ninja" or "MinGW Makefiles" (not "Visual
  Studio").

  Option B: Visual Studio 2022 Community Edition (Alternative)

  Visual Studio 2022 Community Edition is free for individuals,
  open-source projects, and small teams (up to 5 users). It is
  NOT open source itself, but may be preferred by developers
  already using the Visual Studio ecosystem.

  Project page:
    https://visualstudio.microsoft.com/vs/community/

  During installation, ensure these components are selected:
    - Desktop development with C++ (workload)
    - C++ CMake tools for Windows (individual component)
    - Windows 10/11 SDK (individual component)

  Visual Studio bundles MSVC, CMake, and Ninja. When using MSVC,
  the CMake generator should be "Visual Studio 17 2022" or "Ninja"
  launched from a Developer Command Prompt.

  14.2  CMAKE
  -------------

  If using MSYS2, CMake is already installed via the toolchain
  packages in Step 3 above.

  If using Visual Studio, CMake is bundled with the "C++ CMake
  tools" component.

  For a standalone install (any toolchain):

  Project page:   https://cmake.org/
  Download:       https://cmake.org/download/

  Download the "Windows x64 Installer" (.msi) and ensure "Add
  CMake to the system PATH" is checked during installation.

  14.3  GIT
  ----------

  If using MSYS2, Git is already available in the MSYS2
  environment. It can also be used from any Windows terminal once
  C:\msys64\usr\bin is in PATH (though the UCRT64 shell is
  preferred for building).

  For a standalone install (any toolchain):

  Project page:   https://git-scm.com/
  Download:       https://git-scm.com/download/win

  Install Git for Windows. The default options are fine. This also
  provides Git Bash, which can be useful for running build scripts.

  14.4  PYTHON 3
  ----------------

  If using MSYS2, Python 3 was installed via the toolchain packages
  in Step 3 above (mingw-w64-ucrt-x86_64-python).

  For a standalone install (any toolchain):

  Project page:   https://www.python.org/
  Download:       https://www.python.org/downloads/windows/

  Download the latest Python 3.12.x or 3.13.x Windows installer
  (64-bit). During installation, CHECK "Add Python to PATH".

  14.5  NINJA (OPTIONAL FOR VISUAL STUDIO, INCLUDED IN MSYS2)
  --------------------------------------------------------------

  Ninja is a fast build system. It is already installed if using
  MSYS2 (Step 3 above). For Visual Studio users who want Ninja:

  Project page:   https://ninja-build.org/
  Download:       https://github.com/ninja-build/ninja/releases

  Download ninja-win.zip, extract ninja.exe, and place it somewhere
  in your PATH (e.g., C:\Tools\ninja\).

================================================================================
  15. VCPKG PACKAGE MANAGER SETUP
================================================================================

  vcpkg is Microsoft's cross-platform C++ package manager. It
  provides pre-built or source-built packages for most of HobbyCAD's
  dependencies on Windows.

  Project page:   https://vcpkg.io/
  GitHub:         https://github.com/microsoft/vcpkg
  Documentation:  https://learn.microsoft.com/en-us/vcpkg/

  15.1  INSTALL VCPKG
  ----------------------

  Open a terminal (MSYS2 UCRT64 shell, Developer Command Prompt
  for VS 2022, or PowerShell):

    cd C:\
    git clone https://github.com/microsoft/vcpkg.git
    cd vcpkg
    .\bootstrap-vcpkg.bat

  Set the environment variable for CMake integration:

    set VCPKG_ROOT=C:\vcpkg

  Or permanently via System Properties > Environment Variables.

  15.2  VCPKG MANIFEST MODE (RECOMMENDED)
  ------------------------------------------

  vcpkg supports "manifest mode" where dependencies are declared in
  a vcpkg.json file in the project root. This is the recommended
  approach for HobbyCAD because it pins dependency versions and
  makes builds reproducible.

  Example vcpkg.json for HobbyCAD Phase 0:

    {
      "name": "hobbycad",
      "version": "0.0.1",
      "dependencies": [
        "opencascade",
        "qt6",
        "pybind11",
        "libzip",
        "libpng",
        "libjpeg-turbo"
      ]
    }

  When CMake is configured with the vcpkg toolchain file, it will
  automatically install these dependencies before building.

================================================================================
  16. INSTALLING DEPENDENCIES VIA VCPKG
================================================================================

  The following commands install HobbyCAD's Phase 0 dependencies
  using vcpkg in "classic mode" (for manual setup). If using
  manifest mode (Section 15.2), these are handled automatically.

  All commands assume you are in the vcpkg directory and targeting
  64-bit Windows (x64-windows triplet).

  16.1  OPENCASCADE TECHNOLOGY (OCCT)
  -------------------------------------

    .\vcpkg install opencascade:x64-windows

  vcpkg port:     https://vcpkg.io/en/package/opencascade
  Upstream:       https://dev.opencascade.org/
  GitHub:         https://github.com/Open-Cascade-SAS/OCCT
  Releases:       https://github.com/Open-Cascade-SAS/OCCT/releases

  Note: The vcpkg port disables the Draw module (which requires
  Tcl/Tk). This is fine for HobbyCAD — Draw is only needed for
  OCCT's own test harness.

  Pre-built Windows binaries are also available directly from
  OpenCASCADE if the vcpkg port is insufficient:
    https://dev.opencascade.org/release
  Download: opencascade-7.9.3-vc14-64.zip (or latest version)

  16.2  QT 6
  ------------

  Option A: Via vcpkg (simpler, smaller footprint):

    .\vcpkg install qt6:x64-windows

  vcpkg port:     https://vcpkg.io/en/package/qt

  Note: The full Qt 6 vcpkg build takes a VERY long time (1-2 hours)
  and requires significant disk space (~10-20 GB). You can install
  individual Qt modules to reduce build time:

    .\vcpkg install qtbase:x64-windows
    .\vcpkg install qtsvg:x64-windows

  Option B: Via Qt Online Installer (recommended for full Qt):

  The Qt Online Installer provides pre-built binaries and is faster
  to set up for development.

  Project page:   https://www.qt.io/download-open-source
  Installer:      https://www.qt.io/download-qt-installer-oss

  Run the installer and select:
    - Qt 6.4.x or later (match the version used on Linux)
    - MSVC 2019/2022 64-bit binaries
    - Qt 5 Compatibility Module (optional)
    - Qt Shader Tools (for OpenGL support)

  Default install location: C:\Qt\6.x.x\msvc2019_64\

  If using the Qt installer instead of vcpkg, pass the Qt path to
  CMake:
    cmake -DQt6_DIR=C:\Qt\6.4.2\msvc2019_64\lib\cmake\Qt6 ...

  16.3  PYBIND11
  ----------------

    .\vcpkg install pybind11:x64-windows

  vcpkg port:     https://vcpkg.io/en/package/pybind11
  Project page:   https://pybind11.readthedocs.io/
  GitHub:         https://github.com/pybind/pybind11

  16.4  ZIP ARCHIVE SUPPORT
  ---------------------------

    .\vcpkg install libzip:x64-windows
    .\vcpkg install minizip:x64-windows

  vcpkg port:     https://vcpkg.io/en/package/libzip

  16.5  IMAGE FORMAT SUPPORT
  ----------------------------

    .\vcpkg install libpng:x64-windows
    .\vcpkg install libjpeg-turbo:x64-windows

  Note: Netpbm (PPM/PNM) is not readily available on Windows as a
  vcpkg port. Qt's QImage natively reads/writes PPM files, so
  netpbm command-line tools are not required for the build. If
  netpbm tools are needed for development/testing on Windows,
  GnuWin32 provides them:
    https://gnuwin32.sourceforge.net/packages/netpbm.htm

  16.6  ONE-LINE INSTALL (ALL PHASE 0 PACKAGES VIA VCPKG)
  ----------------------------------------------------------

    .\vcpkg install opencascade:x64-windows ^
      pybind11:x64-windows libzip:x64-windows ^
      minizip:x64-windows libpng:x64-windows ^
      libjpeg-turbo:x64-windows libgit2:x64-windows

  Add qtbase:x64-windows if using vcpkg for Qt (see 16.2 for
  the time/space caveat), or use the Qt Online Installer separately.

================================================================================
  17. MANUAL DOWNLOADS (NON-VCPKG)
================================================================================

  If vcpkg is not used (or for components not in vcpkg), the
  following direct downloads are available:

  17.1  OCCT PRE-BUILT BINARIES
  --------------------------------

  OpenCASCADE provides pre-built Windows binaries compiled with
  Visual Studio 2022:

    https://dev.opencascade.org/release

  Download the "Windows package VC++ 2022 64 bit" ZIP. Extract to
  a known location (e.g., C:\occt\). The archive also includes
  required third-party libraries (FreeType, TBB, etc.).

  Note: Requires free registration on dev.opencascade.org to
  download.

  17.2  QT ONLINE INSTALLER
  ----------------------------

  See Section 16.2 Option B.

  17.3  SOLVESPACE SOLVER (FUTURE — PHASE 1+)
  -----------------------------------------------

  SolveSpace is not available as a vcpkg port. On Windows it must
  be built from source using CMake.

  GitHub:         https://github.com/solvespace/solvespace

    git clone https://github.com/solvespace/solvespace.git
    cd solvespace
    git submodule update --init

  With MSYS2 / MinGW-w64:

    cmake -B build -G Ninja \
      -DENABLE_GUI=OFF -DENABLE_CLI=OFF -DENABLE_TESTS=OFF
    cmake --build build

  With Visual Studio:

    cmake -B build -G "Visual Studio 17 2022" -A x64 ^
      -DENABLE_GUI=OFF -DENABLE_CLI=OFF -DENABLE_TESTS=OFF
    cmake --build build --config Release

================================================================================
  18. BUILDING PHASE 0 ON WINDOWS
================================================================================

  18.1  CLONE THE REPOSITORY
  ----------------------------

    git clone <repository-url> hobbycad
    cd hobbycad

  18.2  VERIFY DEPENDENCIES WITH DEVTEST
  ----------------------------------------

  Before configuring the full project, run the dependency
  verification suite to confirm everything is installed:

  From MSYS2 (MinGW64 shell):

    cd devtest
    cmake -B build
    cmake --build build
    ./build/depcheck.exe

  From a Visual Studio Developer Command Prompt:

    cd devtest
    cmake -B build
    cmake --build build
    .\build\depcheck.exe

  If using vcpkg, add the toolchain file:

    cmake -B build ^
      -DCMAKE_TOOLCHAIN_FILE=C:\vcpkg\scripts\buildsystems\vcpkg.cmake

  devtest works with any CMake generator.  If Ninja is not installed,
  CMake uses the platform default and devtest prints a [WARN] —
  install Ninja before building the main project.

  Exit code 0 means all Phase 0 dependencies are OK.  Exit code 1
  means one or more are missing — devtest output includes corrective
  hints.  See devtest/README.txt for full details.

  18.3  CONFIGURE WITH CMAKE (MSYS2 / MINGW-W64 + VCPKG)
  ----------------------------------------------------------

  If using MSYS2 with vcpkg for dependencies:

    cmake -B build -G Ninja \
      -DCMAKE_TOOLCHAIN_FILE=C:/vcpkg/scripts/buildsystems/vcpkg.cmake \
      -DVCPKG_TARGET_TRIPLET=x64-mingw-dynamic \
      -DCMAKE_BUILD_TYPE=Debug

  Note: Use forward slashes in paths when running from MSYS2.
  The triplet x64-mingw-dynamic produces MinGW-compatible
  binaries. Some vcpkg ports may not support the MinGW triplets;
  if a port fails, try x64-windows and switch to the MSVC
  toolchain for that dependency, or build the dependency from
  source using MSYS2's Pacman where available.

  18.4  CONFIGURE WITH CMAKE (VISUAL STUDIO + VCPKG)
  -----------------------------------------------------

  If using Visual Studio 2022 with vcpkg for all dependencies:

    cmake -B build -G "Visual Studio 17 2022" -A x64 ^
      -DCMAKE_TOOLCHAIN_FILE=C:\vcpkg\scripts\buildsystems\vcpkg.cmake ^
      -DCMAKE_BUILD_TYPE=Debug

  Or with Ninja from a Developer Command Prompt (faster builds):

    cmake -B build -G Ninja ^
      -DCMAKE_TOOLCHAIN_FILE=C:\vcpkg\scripts\buildsystems\vcpkg.cmake ^
      -DCMAKE_BUILD_TYPE=Debug

  18.5  CONFIGURE WITH CMAKE (QT INSTALLER + VCPKG)
  ----------------------------------------------------

  If using Qt Online Installer for Qt and vcpkg for other deps
  (works with either MinGW or MSVC — adjust the Qt path to match
  your compiler):

    cmake -B build -G "Visual Studio 17 2022" -A x64 ^
      -DCMAKE_TOOLCHAIN_FILE=C:\vcpkg\scripts\buildsystems\vcpkg.cmake ^
      -DQt6_DIR=C:\Qt\6.4.2\msvc2019_64\lib\cmake\Qt6 ^
      -DCMAKE_BUILD_TYPE=Debug

  18.6  BUILD
  ------------

  With Ninja (MSYS2 or VS Developer Prompt):

    cmake --build build

  With Visual Studio generator:

    cmake --build build --config Debug

  Or for Release:

    cmake --build build --config Release

  18.7  RUN
  ----------

    .\build\hobbycad.exe               (Ninja)
    .\build\Debug\hobbycad.exe         (Visual Studio generator)

  Note: Ensure that OCCT, Qt, and other DLLs are in the system PATH
  or copied to the executable directory. vcpkg usually handles this
  via the toolchain file.

================================================================================
  19. WINDOWS TROUBLESHOOTING
================================================================================

  19.1  START WITH DEVTEST
  --------------------------

  Before investigating specific errors, run the dependency
  verification suite (see Section 18.2).  If devtest passes
  (exit code 0) but the full project fails to build, the problem
  is likely in the project source or CMake configuration rather
  than the environment.  If devtest itself fails, the sections
  below address common dependency issues.

  19.2  CMAKE CAN'T FIND OPENCASCADE
  -------------------------------------

    - Ensure vcpkg install completed successfully
    - Verify CMAKE_TOOLCHAIN_FILE points to vcpkg.cmake
    - If using manual OCCT install, set:
        -DOpenCASCADE_DIR=C:\occt\cmake

  19.3  CMAKE CAN'T FIND QT 6
  ------------------------------

    - If using Qt Installer, pass -DQt6_DIR=<path to Qt cmake>
    - If using vcpkg, ensure qtbase was installed successfully
    - Qt 6 vcpkg builds require a long time; check for build errors

  19.4  DLL NOT FOUND AT RUNTIME
  ---------------------------------

  Windows does not have an equivalent of Linux's rpath. If the
  application fails to start due to missing DLLs:

    - Copy required DLLs to the executable directory
    - Or add library directories to the PATH environment variable
    - vcpkg's toolchain usually copies DLLs automatically when
      VCPKG_APPLOCAL_DEPS is enabled (default)
    - For Qt: add C:\Qt\6.x.x\msvc2019_64\bin to PATH, or run
      windeployqt.exe on the built executable:
        C:\Qt\6.x.x\msvc2019_64\bin\windeployqt.exe hobbycad.exe

  19.5  OPENGL ERRORS
  ----------------------

  Windows generally has good OpenGL support via GPU drivers.
  Ensure you have the latest drivers from NVIDIA, AMD, or Intel.
  If running in a VM, software rendering may be needed.

  19.6  WSL2 CONFLICTS
  ----------------------

  If you have both WSL2 and native Windows toolchains installed:

    - CMake finds the wrong compiler: ensure you are running cmake
      from the correct environment (MSYS2/cmd.exe for native,
      WSL2 terminal for Linux builds).  Check with:
        cmake --system-information | grep CMAKE_C_COMPILER
    - Stale build cache: if switching between WSL2 and native
      Windows, always delete the build directory and reconfigure:
        rm -rf build && cmake -B build ...
    - Line ending errors during build: verify your git autocrlf
      setting matches the environment (see Section 13 WSL2 note)
    - OpenGL crashes in WSL2: WSLg may not support all GPU
      features.  Test with:
        glxinfo | grep "OpenGL version"
      If the version is too low, build and test natively instead.

================================================================================
================================================================================
  PART C: MACOS (Support Stub)
================================================================================
================================================================================

================================================================================
  20. MACOS OVERVIEW
================================================================================

  macOS support is maintained as a build stub, similar to Windows.
  The goal is to ensure that HobbyCAD compiles and runs on macOS
  with basic functionality. Linux remains the primary development
  platform.

  Minimum version: macOS 12 (Monterey) or later, 64-bit Intel
  or Apple Silicon (arm64).  This is dictated by Qt 6's deployment
  target and Xcode toolchain requirements.  OpenGL on macOS is
  deprecated by Apple and capped at version 4.1, but remains
  functional for HobbyCAD's OpenGL 3.3 minimum requirement.

  macOS includes a free C/C++ compiler (Apple Clang) as part of
  the Xcode Command Line Tools. No Xcode IDE installation is
  required — just the command line tools, which are a free
  download from Apple.

  Homebrew (the macOS package manager) provides the remaining
  dependencies. Both Homebrew and Apple Clang are free. Homebrew
  is open source (BSD 2-Clause license). Apple Clang is built on
  the open-source LLVM/Clang project.

  The macOS build uses:
    - Apple Clang (from Xcode Command Line Tools) as the compiler
    - CMake + Ninja as the build system (same as Linux)
    - Homebrew as the package manager for dependencies
    - vcpkg as an alternative for dependencies not in Homebrew

  Alternative compilers available via Homebrew:
    - brew install gcc       (GCC — fully open source, GPL)
    - brew install llvm      (upstream LLVM/Clang, newer than
                              Apple's fork)

  Note: macOS support is community-maintained. It may lag behind
  the Linux build and may not receive the same level of testing.

================================================================================
  21. MACOS PREREQUISITES
================================================================================

  21.1  XCODE COMMAND LINE TOOLS (COMPILER)
  --------------------------------------------

  Apple Clang is installed via the Xcode Command Line Tools. This
  is a free download and does NOT require installing the full Xcode
  IDE (which is several gigabytes).

  Install from Terminal:

    xcode-select --install

  A dialog will appear asking to install the tools. Click "Install"
  and accept the license agreement. Installation takes a few
  minutes.

  This provides:
    - clang / clang++ (C/C++ compiler)
    - git
    - make
    - ld (linker)
    - macOS SDK headers and libraries

  Verification:

    clang++ --version       (expect Apple clang version 15.x+)
    git --version

  Note: Apple Clang is a fork of LLVM/Clang maintained by Apple.
  It generally tracks upstream Clang with a delay and uses Apple's
  own version numbering. Apple Clang 15 corresponds roughly to
  upstream LLVM 16. For HobbyCAD's purposes, any recent Apple
  Clang version supports the C++17 features required.

  IMPORTANT: macOS maps the "gcc" and "g++" commands to Apple
  Clang. Running "gcc --version" on macOS will show "Apple clang".
  This is normal. If you need actual GCC, install it via Homebrew
  (brew install gcc) and use "gcc-13" / "g++-13" explicitly.

  21.2  HOMEBREW (PACKAGE MANAGER)
  ----------------------------------

  Homebrew is the standard package manager for macOS. It is free
  and open source (BSD 2-Clause license).

  Project page:   https://brew.sh/
  GitHub:         https://github.com/Homebrew/brew
  License:        BSD 2-Clause

  Install from Terminal:

    /bin/bash -c "$(curl -fsSL \
      https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"

  Follow the on-screen instructions. On Apple Silicon Macs (M1/M2/
  M3/M4), Homebrew installs to /opt/homebrew. On Intel Macs, it
  installs to /usr/local.

  After installation, ensure Homebrew's bin directory is in PATH.
  The installer usually provides the exact commands to add to your
  shell profile (~/.zprofile or ~/.zshrc):

    eval "$(/opt/homebrew/bin/brew shellenv)"     (Apple Silicon)
    eval "$(/usr/local/bin/brew shellenv)"        (Intel)

  Verification:

    brew --version

  21.3  CMAKE
  -------------

    brew install cmake

  Verification:

    cmake --version       (expect 3.28+)

  21.4  NINJA
  -------------

    brew install ninja

  Verification:

    ninja --version

  21.5  PYTHON 3
  ----------------

  macOS includes a system Python 3 (since macOS 12.3). However,
  it is recommended to install a Homebrew-managed Python for
  development:

    brew install python

  Verification:

    python3 --version     (expect 3.12+)

================================================================================
  22. INSTALLING DEPENDENCIES VIA HOMEBREW
================================================================================

  The following commands install HobbyCAD's Phase 0 dependencies
  using Homebrew.

  22.1  OPENCASCADE TECHNOLOGY (OCCT)
  -------------------------------------

    brew install opencascade

  Homebrew formula:
    https://formulae.brew.sh/formula/opencascade

  This installs OCCT headers, libraries, and CMake config files.
  Homebrew typically provides a recent version (7.7.x or 7.8.x).

  22.2  QT 6
  ------------

    brew install qt@6

  Homebrew formula:
    https://formulae.brew.sh/formula/qt

  Note: After installation, Homebrew may report that Qt is
  "keg-only" (not symlinked into /opt/homebrew). You may need to
  set Qt6_DIR for CMake:

    export Qt6_DIR=$(brew --prefix qt@6)/lib/cmake/Qt6

  Or pass it directly to CMake (see Section 25.3).

  22.3  PYBIND11
  ----------------

    brew install pybind11

  Homebrew formula:
    https://formulae.brew.sh/formula/pybind11

  22.4  ZIP AND IMAGE LIBRARIES
  --------------------------------

    brew install libzip libpng jpeg-turbo

  Note: Qt's QImage handles PPM/PNM natively. Netpbm command-line
  tools are available via Homebrew if needed for development:

    brew install netpbm

  22.5  ONE-LINE INSTALL (ALL PHASE 0 PACKAGES)
  ------------------------------------------------

    brew install cmake ninja opencascade qt@6 pybind11 \
      libzip libpng jpeg-turbo libgit2

  Optional development tools:

    brew install doxygen graphviz

  22.6  SOLVESPACE SOLVER (FUTURE — PHASE 1+)
  -----------------------------------------------

  SolveSpace is not in Homebrew. It must be built from source:

    git clone https://github.com/solvespace/solvespace.git
    cd solvespace
    git submodule update --init
    cmake -B build -G Ninja \
      -DENABLE_GUI=OFF -DENABLE_CLI=OFF -DENABLE_TESTS=OFF
    cmake --build build
    sudo cmake --install build

  22.7  HOBBYMESH DEPENDENCIES (FUTURE — PHASE 5+)
  ---------------------------------------------------

  Available in Homebrew:

    brew install cgal openvdb assimp eigen

  NOT in Homebrew (must build from source):
    - OpenMesh:   https://www.graphics.rwth-aachen.de/software/openmesh/
    - lib3mf:     https://github.com/3MFConsortium/lib3mf
    - MeshFix:    https://github.com/MarcoAttene/MeshFix

================================================================================
  23. MACOS ARCHITECTURE NOTES
================================================================================

  23.1  APPLE SILICON (ARM64) VS INTEL (X86_64)
  ------------------------------------------------

  Modern Macs use Apple Silicon (M1/M2/M3/M4, arm64 architecture).
  Older Macs use Intel CPUs (x86_64). Homebrew installs to
  different directories on each:

    Apple Silicon:  /opt/homebrew
    Intel:          /usr/local

  CMake and Homebrew handle architecture differences automatically.
  HobbyCAD should build natively on either architecture without
  special configuration.

  If cross-compiling or building a Universal Binary (both
  architectures in one executable) is needed:

    cmake -B build -G Ninja \
      -DCMAKE_OSX_ARCHITECTURES="arm64;x86_64" \
      -DCMAKE_BUILD_TYPE=Debug

  Universal Binaries are a stretch goal and not required for the
  support stub.

  23.2  MACOS SDK AND DEPLOYMENT TARGET
  ----------------------------------------

  CMake automatically detects the macOS SDK. To target a specific
  minimum macOS version:

    cmake -B build -G Ninja \
      -DCMAKE_OSX_DEPLOYMENT_TARGET=13.0 \
      -DCMAKE_BUILD_TYPE=Debug

  macOS 13 (Ventura) is a reasonable minimum target as it is the
  oldest version Apple actively supports with security updates.
  Adjust as needed.

  23.3  OPENGL ON MACOS
  -----------------------

  Apple deprecated OpenGL in macOS 10.14 (Mojave) in favor of
  Metal, but OpenGL 4.1 remains available and functional as of
  macOS 14 (Sonoma). HobbyCAD uses OpenGL via Qt's QOpenGLWidget,
  which abstracts the platform details.

  Known issues:
    - macOS caps OpenGL at version 4.1 (no 4.2+ features)
    - Apple may remove OpenGL support in a future macOS release
    - Qt 6 can use Metal as a rendering backend via its RHI
      (Rendering Hardware Interface) layer, which may mitigate
      this in the future

  For Phase 0, OpenGL 4.1 is sufficient. No special action is
  needed.

================================================================================
  24. VERIFYING THE MACOS INSTALLATION
================================================================================

  Run the following commands to verify your macOS environment:

    clang++ --version
    cmake --version
    ninja --version
    python3 --version
    git --version
    brew list opencascade
    brew list qt@6
    brew list pybind11

  Check OCCT installation:

    pkg-config --modversion opencascade 2>/dev/null || \
      ls $(brew --prefix opencascade)/lib/cmake/opencascade/

  Check Qt installation:

    $(brew --prefix qt@6)/bin/qmake6 --version 2>/dev/null || \
      echo "Qt6 installed at $(brew --prefix qt@6)"

================================================================================
  25. BUILDING PHASE 0 ON MACOS
================================================================================

  25.1  CLONE THE REPOSITORY
  ----------------------------

    git clone <repository-url> hobbycad
    cd hobbycad

  25.2  VERIFY DEPENDENCIES WITH DEVTEST
  ----------------------------------------

  Before configuring the full project, run the dependency
  verification suite to confirm everything is installed:

    cd devtest
    cmake -B build
    cmake --build build -j$(sysctl -n hw.ncpu)
    ./build/depcheck

  If CMake cannot find Qt (keg-only in Homebrew):

    cmake -B build \
      -DQt6_DIR=$(brew --prefix qt@6)/lib/cmake/Qt6

  devtest works with any CMake generator.  If Ninja is not installed,
  CMake uses the platform default and devtest prints a [WARN] —
  install Ninja before building the main project.

  Exit code 0 means all Phase 0 dependencies are OK.  Exit code 1
  means one or more are missing — devtest output includes corrective
  hints.  See devtest/README.txt for full details.

  25.3  CONFIGURE WITH CMAKE
  ----------------------------

    cmake -B build -G Ninja \
      -DCMAKE_BUILD_TYPE=Debug \
      -DQt6_DIR=$(brew --prefix qt@6)/lib/cmake/Qt6

  If CMake cannot find OCCT:

    cmake -B build -G Ninja \
      -DCMAKE_BUILD_TYPE=Debug \
      -DQt6_DIR=$(brew --prefix qt@6)/lib/cmake/Qt6 \
      -DOpenCASCADE_DIR=$(brew --prefix opencascade)/lib/cmake/opencascade

  25.4  BUILD
  ------------

    cmake --build build -j$(sysctl -n hw.ncpu)

  25.5  RUN
  ----------

    ./build/src/hobbycad/hobbycad

================================================================================
  26. MACOS TROUBLESHOOTING
================================================================================

  26.1  START WITH DEVTEST
  --------------------------

  Before investigating specific errors, run the dependency
  verification suite (see Section 25.2).  If devtest passes
  (exit code 0) but the full project fails to build, the problem
  is likely in the project source or CMake configuration rather
  than the environment.  If devtest itself fails, the sections
  below address common dependency issues.

  26.2  XCODE-SELECT: ERROR: COMMAND LINE TOOLS ALREADY INSTALLED
  -----------------------------------------------------------------

  This just means the tools are already installed. Check for
  updates via:

    softwareupdate --list

  Or reinstall if corrupt:

    sudo rm -rf /Library/Developer/CommandLineTools
    xcode-select --install

  26.3  CMAKE CAN'T FIND OPENCASCADE
  -------------------------------------

    - Verify: brew list opencascade
    - Set: -DOpenCASCADE_DIR=$(brew --prefix opencascade)/lib/cmake/opencascade
    - On Apple Silicon, Homebrew prefix is /opt/homebrew
    - On Intel, Homebrew prefix is /usr/local

  26.4  CMAKE CAN'T FIND QT 6
  ------------------------------

    - Qt is often "keg-only" in Homebrew (not symlinked)
    - Set: -DQt6_DIR=$(brew --prefix qt@6)/lib/cmake/Qt6
    - Verify: ls $(brew --prefix qt@6)/lib/cmake/Qt6/Qt6Config.cmake

  26.5  OPENGL DEPRECATION WARNINGS
  ------------------------------------

  The compiler will emit deprecation warnings for OpenGL calls:

    'glBegin' is deprecated: first deprecated in macOS 10.14

  These can be suppressed with:

    -DCMAKE_CXX_FLAGS="-DGL_SILENCE_DEPRECATION"

  The warnings are cosmetic; OpenGL still works. This flag can be
  added to CMakeLists.txt for macOS builds:

    if(APPLE)
      add_definitions(-DGL_SILENCE_DEPRECATION)
    endif()

  26.6  LINKER WARNINGS ON APPLE SILICON
  -----------------------------------------

  If you see warnings about architecture mismatches, ensure all
  Homebrew packages were built for your architecture:

    brew reinstall opencascade qt@6

  Verify architecture:

    file $(brew --prefix opencascade)/lib/libTKernel.dylib

  Should show "arm64" on Apple Silicon or "x86_64" on Intel.

================================================================================
  27. PROJECT AND DOWNLOAD LINKS (ALL PLATFORMS)
================================================================================

  This section provides a consolidated reference of all project
  pages and download links for HobbyCAD's dependencies.

  27.1  CORE DEPENDENCIES
  -------------------------

  OpenCASCADE Technology (OCCT)
    Project:      https://dev.opencascade.org/
    GitHub:       https://github.com/Open-Cascade-SAS/OCCT
    Releases:     https://github.com/Open-Cascade-SAS/OCCT/releases
    Download:     https://dev.opencascade.org/release
    Docs:         https://dev.opencascade.org/doc/overview/html/
    vcpkg:        https://vcpkg.io/en/package/opencascade

  Qt 6
    Project:      https://www.qt.io/
    Download:     https://www.qt.io/download-open-source
    Installer:    https://www.qt.io/download-qt-installer-oss
    Docs:         https://doc.qt.io/qt-6/
    GitHub:       https://github.com/qt/qtbase
    vcpkg:        https://vcpkg.io/en/package/qt

  SolveSpace (constraint solver)
    Project:      https://solvespace.com/
    GitHub:       https://github.com/solvespace/solvespace

  27.2  PYTHON AND BINDINGS
  ---------------------------

  Python
    Project:      https://www.python.org/
    Download:     https://www.python.org/downloads/
    Windows:      https://www.python.org/downloads/windows/

  pybind11
    Project:      https://pybind11.readthedocs.io/
    GitHub:       https://github.com/pybind/pybind11
    vcpkg:        https://vcpkg.io/en/package/pybind11

  27.3  BUILD TOOLS
  -------------------

  CMake
    Project:      https://cmake.org/
    Download:     https://cmake.org/download/

  Ninja
    Project:      https://ninja-build.org/
    GitHub:       https://github.com/ninja-build/ninja/releases

  Git
    Project:      https://git-scm.com/
    Download:     https://git-scm.com/downloads

  Visual Studio 2022 (Windows — alternative)
    Project:      https://visualstudio.microsoft.com/
    Community:    https://visualstudio.microsoft.com/vs/community/

  MSYS2 / MinGW-w64 (Windows — recommended)
    Project:      https://www.msys2.org/
    MinGW-w64:    https://www.mingw-w64.org/
    GitHub:       https://github.com/msys2/msys2-installer/releases

  Homebrew (macOS)
    Project:      https://brew.sh/
    GitHub:       https://github.com/Homebrew/brew
    Formulae:     https://formulae.brew.sh/

  vcpkg (Windows/cross-platform package manager)
    Project:      https://vcpkg.io/
    GitHub:       https://github.com/microsoft/vcpkg
    Docs:         https://learn.microsoft.com/en-us/vcpkg/

  27.4  UTILITY LIBRARIES
  -------------------------

  libzip
    Project:      https://libzip.org/
    GitHub:       https://github.com/nih-at/libzip
    vcpkg:        https://vcpkg.io/en/package/libzip

  libpng
    Project:      http://www.libpng.org/pub/png/libpng.html
    GitHub:       https://github.com/pnggroup/libpng
    vcpkg:        https://vcpkg.io/en/package/libpng

  libjpeg-turbo
    Project:      https://libjpeg-turbo.org/
    GitHub:       https://github.com/libjpeg-turbo/libjpeg-turbo
    vcpkg:        https://vcpkg.io/en/package/libjpeg-turbo

  Netpbm (PPM/PNM tools)
    Project:      https://netpbm.sourceforge.net/
    Windows:      https://gnuwin32.sourceforge.net/packages/netpbm.htm

  27.5  HOBBYMESH DEPENDENCIES (FUTURE)
  ----------------------------------------

  CGAL
    Project:      https://www.cgal.org/
    GitHub:       https://github.com/CGAL/cgal
    Docs:         https://doc.cgal.org/latest/Manual/
    vcpkg:        https://vcpkg.io/en/package/cgal

  OpenVDB
    Project:      https://www.openvdb.org/
    GitHub:       https://github.com/AcademySoftwareFoundation/openvdb
    vcpkg:        https://vcpkg.io/en/package/openvdb

  OpenMesh
    Project:      https://www.graphics.rwth-aachen.de/software/openmesh/
    Docs:         https://www.openmesh.org/media/Documentations/
                  OpenMesh-Doc-Latest/

  Assimp
    Project:      https://www.assimp.org/
    GitHub:       https://github.com/assimp/assimp
    vcpkg:        https://vcpkg.io/en/package/assimp

  lib3mf
    GitHub:       https://github.com/3MFConsortium/lib3mf
    Docs:         https://3mf.io/specification/

  MeshFix
    GitHub:       https://github.com/MarcoAttene/MeshFix-V2.1

  Eigen
    Project:      https://eigen.tuxfamily.org/
    GitLab:       https://gitlab.com/libeigen/eigen
    vcpkg:        https://vcpkg.io/en/package/eigen3

  27.6  DEVELOPMENT AND ANALYSIS TOOLS
  ----------------------------------------

  Doxygen (documentation generator)
    Project:      https://www.doxygen.nl/
    Download:     https://www.doxygen.nl/download.html

  Graphviz (graph visualization, used by Doxygen)
    Project:      https://graphviz.org/
    Download:     https://graphviz.org/download/

  Valgrind (Linux only — memory analysis)
    Project:      https://valgrind.org/

  GDB (Linux — debugger)
    Project:      https://sourceware.org/gdb/

================================================================================
  END OF DOCUMENT
================================================================================

